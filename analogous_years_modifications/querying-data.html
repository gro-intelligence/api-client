

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Querying Data &mdash; Gro API Client  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/custom-theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/banner.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Understanding Data Responses" href="understanding-data-responses.html" />
    <link rel="prev" title="Searching Data" href="searching-data.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Gro API Client
          

          
            
            <img src="_static/logo.jpg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="prerequisites.html">Prerequisites</a><ul>
<li class="toctree-l2"><a class="reference internal" href="prerequisites.html#macos-and-linux">MacOS and Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="prerequisites.html#windows">Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="prerequisites.html#anaconda">Anaconda</a></li>
<li class="toctree-l3"><a class="reference internal" href="prerequisites.html#non-anaconda">Non-Anaconda</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#install-with-pip">Install with pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#inspect-the-package">Inspect the package</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#stay-updated">Stay updated</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="authentication.html#retrieving-a-token">Retrieving a token</a><ul>
<li class="toctree-l3"><a class="reference internal" href="authentication.html#option-1-using-the-web-app-recommended">Option 1: Using the Web App (Recommended)</a></li>
<li class="toctree-l3"><a class="reference internal" href="authentication.html#option-2-using-the-gro-client-command-line-interface">Option 2: Using the gro_client Command Line Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="authentication.html#option-3-using-the-get-access-token-function">Option 3: Using the <code class="docutils literal"><span class="pre">get_access_token()</span></code> Function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html#expiring-regenerating-tokens">Expiring/Regenerating Tokens</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html#saving-your-token-as-an-environment-variable">Saving your token as an environment variable</a><ul>
<li class="toctree-l3"><a class="reference internal" href="authentication.html#for-windows-10">For Windows 10</a></li>
<li class="toctree-l3"><a class="reference internal" href="authentication.html#for-mac-and-linux">For Mac and Linux</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart-examples.html">Quickstart Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart-examples.html#get-started-in-120-seconds">Get Started in 120 Seconds</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart-examples.html#step-1-get-your-api-token">Step 1: Get your API token</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart-examples.html#step-2-run-the-code-in-a-notebook">Step 2: Run the code in a notebook</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart-examples.html#step-3-bonus-round">Step 3: Bonus Round</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart-examples.html#quickstart-py">Quickstart.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart-examples.html#brazil-soybeans">Brazil Soybeans</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart-examples.html#gro-client-tool">gro_client tool</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Using the API Client</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#basic-exploration">Basic Exploration</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#data-retrieval">Data Retrieval</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#geographic">Geographic</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#advanced-exploration">Advanced Exploration</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#pandas-utils">Pandas Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#crop-modeling">Crop Modeling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="searching-data.html">Searching Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="searching-data.html#code-snippets">Code snippets</a></li>
<li class="toctree-l2"><a class="reference internal" href="searching-data.html#search">Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="searching-data.html#get-data-series">Get data series</a></li>
<li class="toctree-l2"><a class="reference internal" href="searching-data.html#lookup-contains">Lookup contains</a></li>
<li class="toctree-l2"><a class="reference internal" href="searching-data.html#get-descendants">Get descendants</a></li>
<li class="toctree-l2"><a class="reference internal" href="searching-data.html#lookup-belongs">Lookup belongs</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Querying Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#get-data-points">Get data points</a></li>
<li class="toctree-l2"><a class="reference internal" href="#get-data-frame">Get data frame</a></li>
<li class="toctree-l2"><a class="reference internal" href="#show-revisions">Show revisions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="understanding-data-responses.html">Understanding Data Responses</a><ul>
<li class="toctree-l2"><a class="reference internal" href="understanding-data-responses.html#look-up">Look up</a><ul>
<li class="toctree-l3"><a class="reference internal" href="understanding-data-responses.html#metrics">Metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="understanding-data-responses.html#frequencies">Frequencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="understanding-data-responses.html#units">Units</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Gro Data: Key Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gro-ontology.html">Gro Ontology</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gro-ontology.html#entity-fields">Entity fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="gro-ontology.html#entity-relationships-contains">Entity Relationships: Contains</a></li>
<li class="toctree-l2"><a class="reference internal" href="gro-ontology.html#special-properties-for-regions">Special Properties for Regions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="gro-ontology.html#level"><code class="docutils literal"><span class="pre">level</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="gro-ontology.html#latitude-and-longitude"><code class="docutils literal"><span class="pre">latitude</span></code> and <code class="docutils literal"><span class="pre">longitude</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data-series-definition.html">Data Series Definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-point-definition.html">Data Point Definition</a></li>
</ul>
<p class="caption"><span class="caption-text">Additional Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#exploring-what-s-available">Exploring What&#8216;s Available</a><ul>
<li class="toctree-l3"><a class="reference internal" href="faq.html#why-is-it-that-when-i-use-client-search-to-find-metrics-items-regions-i-m-interested-in-sometimes-client-get-data-series-doesn-t-have-any-data-for-those-metrics-items-regions">Why is it that when I use client.search() to find metrics/items/regions I&#8216;m interested in, sometimes client.get_data_series() doesn&#8216;t have any data for those metrics/items/regions?</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#what-does-sourcelag-mean-when-i-use-client-lookup-to-inspect-a-source-s-details">What does &#8216;sourceLag&#8216; mean when I use client.lookup() to inspect a source&#8216;s details?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#data-retrieval">Data Retrieval</a><ul>
<li class="toctree-l3"><a class="reference internal" href="faq.html#i-specified-an-end-date-when-calling-get-data-points-but-i-am-getting-points-with-other-end-dates">I specified an end_date when calling get_data_points(), but I am getting points with other end_dates</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#data-coverage">Data Coverage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="faq.html#why-is-there-no-satellite-rainfall-data-in-northern-latitudes-sometimes">Why is there no satellite rainfall data in northern latitudes sometimes?</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#why-are-there-some-gaps-in-the-soil-moisture-data">Why are there some gaps in the soil moisture data?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#account">Account</a><ul>
<li class="toctree-l3"><a class="reference internal" href="faq.html#how-do-i-verify-connectivity-with-gro-api">How do I verify connectivity with Gro API?</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#how-do-i-get-authenticated-access-to-gro-api">How do I get authenticated access to Gro API?</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#i-tried-using-my-gro-username-and-login-but-am-getting-a-401-unauthorized-error">I tried using my Gro username and login but am getting a 401 Unauthorized error</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#gro-models">Gro Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="faq.html#do-your-predictive-models-only-run-during-the-crop-season">Do your predictive models only run during the crop season?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="other.html">Other</a><ul>
<li class="toctree-l2"><a class="reference internal" href="other.html#gro-crop-masks">Gro Crop Masks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="other.html#methodology">Methodology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="other.html#crop-masks-for-past-seasons">Crop masks for past seasons</a></li>
<li class="toctree-l4"><a class="reference internal" href="other.html#in-season-crop-mask">In-season crop mask</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="other.html#us-corn">US Corn</a></li>
<li class="toctree-l3"><a class="reference internal" href="other.html#us-soy">US Soy</a></li>
<li class="toctree-l3"><a class="reference internal" href="other.html#argentina-soy">Argentina Soy</a></li>
<li class="toctree-l3"><a class="reference internal" href="other.html#india-wheat">India Wheat</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="other.html#gro-yield-model-backtest-data">Gro Yield Model Backtest Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="other.html#file-formats">File Formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="other.html#download-the-data-by-model">Download the Data by Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="other.html#models">Models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="other.html#radio-frequency-interference-effects-on-smos">Radio Frequency Interference Effects On SMOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="other.html#trmm-and-gpm-spatial-extents">TRMM and GPM spatial extents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Gro API Client</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Querying Data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/querying-data.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="understanding-data-responses.html" class="btn btn-neutral float-right" title="Understanding Data Responses" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="searching-data.html" class="btn btn-neutral float-left" title="Searching Data" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  


    
    



    <p class="scv-banner scv-sphinx_rtd_theme"><a href="../development/querying-data.html"><b>Warning:</b> This document is for the development version of Gro API Client. The main version is development.</a></p>
<div class="section" id="querying-data">
<h1>Querying Data<a class="headerlink" href="#querying-data" title="Permalink to this headline">¶</a></h1>
<p>Once you&#8216;ve identified the data you want, you&#8216;ll want to start retrieving it and putting it to use. The following methods should help you get the data in the format that you want.</p>
<p>All of the examples in this page refer to a client object, which can
be initialized as follows:</p>
<div class="highlight-py from api.client.gro_client import GroClient"><div class="highlight"><pre><span></span>
client = GroClient(&#39;api.gro-intelligence.com&#39;, &#39;&lt;YOUR_TOKEN&gt;&#39;)
</pre></div>
</div>
<div class="section" id="get-data-points">
<h2>Get data points<a class="headerlink" href="#get-data-points" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">get_data_points(**selection)</span></code> is the most basic method for retrieving data. The <a class="reference external" href="./searching-data#code-snippets">code snippets</a> feature covered earlier provides you with a fully completed <code class="docutils literal"><span class="pre">get_data_points()</span></code> query, such as:</p>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="c1"># Wheat - Area Harvested (area) - India (USDA PS&amp;D)</span>
<span class="n">client</span><span class="o">.</span><span class="n">get_data_points</span><span class="p">(</span><span class="o">**</span><span class="p">{</span>
    <span class="s1">&#39;metric_id&#39;</span><span class="p">:</span> <span class="mi">570001</span><span class="p">,</span>
    <span class="s1">&#39;item_id&#39;</span><span class="p">:</span> <span class="mi">95</span><span class="p">,</span>
    <span class="s1">&#39;region_id&#39;</span><span class="p">:</span> <span class="mi">1094</span><span class="p">,</span>
    <span class="s1">&#39;source_id&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
    <span class="s1">&#39;frequency_id&#39;</span><span class="p">:</span> <span class="mi">9</span>
<span class="p">})</span>
</pre></div>
</div>
<p>The above query has completed fields for <code class="docutils literal"><span class="pre">metric_id</span></code>, <code class="docutils literal"><span class="pre">item_id</span></code>, <code class="docutils literal"><span class="pre">region_id</span></code>, <code class="docutils literal"><span class="pre">source_id</span></code>, and <code class="docutils literal"><span class="pre">frequency_id</span></code>. However, <code class="docutils literal"><span class="pre">get_data_points()</span></code> can also accept fields to further narrow your data series of interest: <code class="docutils literal"><span class="pre">partner_region_id</span></code> (used only in series that represent a flow between two places), <code class="docutils literal"><span class="pre">start_date</span></code>, <code class="docutils literal"><span class="pre">end_date</span></code>, <a class="reference external" href="#show-revisions"><code class="docutils literal"><span class="pre">show_revisions</span></code></a>, <a class="reference external" href="https://developers.gro-intelligence.com/development/api.html#api.client.gro_client.GroClient.get_data_points"><code class="docutils literal"><span class="pre">insert_null</span></code></a>, and <a class="reference external" href="https://developers.gro-intelligence.com/development/api.html#api.client.gro_client.GroClient.get_data_points"><code class="docutils literal"><span class="pre">at_time</span></code></a>.</p>
<p>Making your query more specific will speed up your query by limiting the amount of data requested.</p>
</div>
<div class="section" id="get-data-frame">
<h2>Get data frame<a class="headerlink" href="#get-data-frame" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html">Pandas data frames</a> are a popular format for processing large amounts of data. The <code class="docutils literal"><span class="pre">GroClient</span></code> class&#8216; <code class="docutils literal"><span class="pre">get_df()</span></code> method offers you the ability to access multiple data series in a single data frame. This approach is convenient for modeling or analysis using many different data series.</p>
<p><code class="docutils literal"><span class="pre">get_df()</span></code> is a stateful method, so you must first save one or more series into your client object.</p>
<p>The easiest way to do that is to use <code class="docutils literal"><span class="pre">add_data_series()</span></code>, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">add_data_series</span><span class="p">(</span><span class="o">**</span><span class="p">{</span>
    <span class="s1">&#39;metric&#39;</span><span class="p">:</span> <span class="s1">&#39;area harvested&#39;</span><span class="p">,</span>
    <span class="s1">&#39;item&#39;</span><span class="p">:</span> <span class="s1">&#39;wheat&#39;</span><span class="p">,</span>
    <span class="s1">&#39;region&#39;</span><span class="p">:</span> <span class="s1">&#39;India&#39;</span>
<span class="p">})</span>

<span class="n">client</span><span class="o">.</span><span class="n">add_data_series</span><span class="p">(</span><span class="o">**</span><span class="p">{</span>
    <span class="s1">&#39;metric&#39;</span><span class="p">:</span> <span class="s1">&#39;production quantity&#39;</span><span class="p">,</span>
    <span class="s1">&#39;item&#39;</span><span class="p">:</span> <span class="s1">&#39;wheat&#39;</span><span class="p">,</span>
    <span class="s1">&#39;region&#39;</span><span class="p">:</span> <span class="s1">&#39;India&#39;</span>
<span class="p">})</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_df</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal"><span class="pre">add_data_series()</span></code> combines searching for combinations of entities by name, finding the best possible data series for that combination, and adding it to the client. In the above example, each <code class="docutils literal"><span class="pre">add_data_series()</span></code> call finds several possible series (5 series for area harvested and 6 for production quantity respectively), and adds the highest ranked one for each.  For more information on how series are ranked see <a class="reference external" href="https://developers.gro-intelligence.com/api.html#api.client.gro_client.GroClient.rank_series_by_source"><code class="docutils literal"><span class="pre">rank_series_by_source</span></code></a>.</p>
<p>If you want to directly control the series selection, you can also take a specific selection - discovered, perhaps, via <a class="reference external" href="./searching-data#code-snippets">code snippets</a>, or using <a class="reference external" href="https://developers.gro-intelligence.com/api.html#api.client.gro_client.GroClient.find_data_series"><code class="docutils literal"><span class="pre">find_data_series</span></code></a> - and then add that series directly with the
<code class="docutils literal"><span class="pre">add_single_data_series()</span></code> method, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">client</span><span class="o">.</span><span class="n">add_single_data_series</span><span class="p">({</span>
     <span class="s1">&#39;metric_id&#39;</span><span class="p">:</span> <span class="mi">570001</span><span class="p">,</span>
     <span class="s1">&#39;item_id&#39;</span><span class="p">:</span> <span class="mi">95</span><span class="p">,</span>
     <span class="s1">&#39;region_id&#39;</span><span class="p">:</span> <span class="mi">1094</span><span class="p">,</span>
     <span class="s1">&#39;source_id&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
     <span class="s1">&#39;frequency_id&#39;</span><span class="p">:</span> <span class="mi">9</span>
<span class="p">})</span>

<span class="n">client</span><span class="o">.</span><span class="n">add_single_data_series</span><span class="p">({</span>
     <span class="s1">&#39;metric_id&#39;</span><span class="p">:</span> <span class="mi">860032</span><span class="p">,</span>
     <span class="s1">&#39;item_id&#39;</span><span class="p">:</span> <span class="mi">95</span><span class="p">,</span>
     <span class="s1">&#39;region_id&#39;</span><span class="p">:</span> <span class="mi">1094</span><span class="p">,</span>
     <span class="s1">&#39;source_id&#39;</span><span class="p">:</span> <span class="mi">50</span>
     <span class="s1">&#39;frequency_id&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
<span class="p">})</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_df</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that in the second example, we choose to get the first series from the source with id 14 which is <a class="reference external" href="https://app.gro-intelligence.com/dictionary/sources/14">USDA PS&amp;D</a>, and the second series from source with id 50, which is <a class="reference external" href="https://app.gro-intelligence.com/dictionary/sources/50">IDAC</a>. The two sources may differ in historical time range or their data release schedule.</p>
</div>
<div class="section" id="show-revisions">
<h2>Show revisions<a class="headerlink" href="#show-revisions" title="Permalink to this headline">¶</a></h2>
<p>Sometimes looking at the most recent data point doesn&#8216;t tell you the whole story. You may want to see if there have been any revisions to data, especially if the data is a forecast value. This standard <code class="docutils literal"><span class="pre">get_data_points</span></code> query will return the annual values for soybean yield in Argentina since 2017:</p>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="c1"># Soybeans - Yield (mass/area) - Argentina (USDA PS&amp;D)</span>
<span class="n">client</span><span class="o">.</span><span class="n">get_data_points</span><span class="p">(</span><span class="o">**</span><span class="p">{</span>
    <span class="s1">&#39;metric_id&#39;</span><span class="p">:</span> <span class="mi">170037</span><span class="p">,</span>
    <span class="s1">&#39;item_id&#39;</span><span class="p">:</span> <span class="mi">270</span><span class="p">,</span>
    <span class="s1">&#39;region_id&#39;</span><span class="p">:</span> <span class="mi">1010</span><span class="p">,</span>
    <span class="s1">&#39;source_id&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
    <span class="s1">&#39;frequency_id&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="s1">&#39;start_date&#39;</span><span class="p">:</span> <span class="s1">&#39;2017-01-01&#39;</span>
<span class="p">})</span>
</pre></div>
</div>
<p>But the USDA begins forecasting the yield well before harvest time, and will continue to update its estimate for many months after the harvest is over. In order to see how the forecasts and estimates for each year have changed, you can include the <code class="docutils literal"><span class="pre">show_revisions</span></code> field as follows:</p>
<div class="highlight-py"><div class="highlight"><pre><span></span><span class="c1"># Soybeans - Yield (mass/area) - Argentina (USDA PS&amp;D)</span>
<span class="n">client</span><span class="o">.</span><span class="n">get_data_points</span><span class="p">(</span><span class="o">**</span><span class="p">{</span>
    <span class="s1">&#39;metric_id&#39;</span><span class="p">:</span> <span class="mi">170037</span><span class="p">,</span>
    <span class="s1">&#39;item_id&#39;</span><span class="p">:</span> <span class="mi">270</span><span class="p">,</span>
    <span class="s1">&#39;region_id&#39;</span><span class="p">:</span> <span class="mi">1010</span><span class="p">,</span>
    <span class="s1">&#39;source_id&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
    <span class="s1">&#39;frequency_id&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="s1">&#39;start_date&#39;</span><span class="p">:</span> <span class="s1">&#39;2017-01-01&#39;</span><span class="p">,</span>
    <span class="s1">&#39;show_revisions&#39;</span><span class="p">:</span> <span class="kc">True</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="understanding-data-responses.html" class="btn btn-neutral float-right" title="Understanding Data Responses" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="searching-data.html" class="btn btn-neutral float-left" title="Searching Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Gro Intelligence

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: analogous_years_modifications
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../v1.40.6/querying-data.html">v1.40.6</a></dd>
            <dd><a href="../v1.56.0/querying-data.html">v1.56.0</a></dd>
            <dd><a href="../v1.56.1/querying-data.html">v1.56.1</a></dd>
            <dd><a href="../v1.56.2/querying-data.html">v1.56.2</a></dd>
            <dd><a href="../v1.60.0/querying-data.html">v1.60.0</a></dd>
            <dd><a href="../v1.60.1/querying-data.html">v1.60.1</a></dd>
            <dd><a href="../v1.71.0/querying-data.html">v1.71.0</a></dd>
            <dd><a href="../v1.76.0/querying-data.html">v1.76.0</a></dd>
            <dd><a href="../v1.77.0/querying-data.html">v1.77.0</a></dd>
            <dd><a href="../v1.77.1/querying-data.html">v1.77.1</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../CLEWS-15762/index.html">CLEWS-15762</a></dd>
            <dd><a href="../CLEWS-15766/index.html">CLEWS-15766</a></dd>
            <dd><a href="../CLEWS-16955-units/index.html">CLEWS-16955-units</a></dd>
            <dd><a href="../CLEWS-17015/index.html">CLEWS-17015</a></dd>
            <dd><a href="../CLEWS-19063/querying-data.html">CLEWS-19063</a></dd>
            <dd><a href="../CLEWS-19840/querying-data.html">CLEWS-19840</a></dd>
            <dd><a href="../CLEWS-19840-3/querying-data.html">CLEWS-19840-3</a></dd>
            <dd><a href="../CLEWS-22288/index.html">CLEWS-22288</a></dd>
            <dd><a href="../CLEWS-23237_revision_get_df/querying-data.html">CLEWS-23237_revision_get_df</a></dd>
            <dd><a href="../CLEWS-23863/querying-data.html">CLEWS-23863</a></dd>
            <dd><a href="../CLEWS-25132/querying-data.html">CLEWS-25132</a></dd>
            <dd><a href="../CLEWS-25139-2/querying-data.html">CLEWS-25139-2</a></dd>
            <dd><a href="../CLEWS-25139-revert/querying-data.html">CLEWS-25139-revert</a></dd>
            <dd><a href="../CLEWS-25726/querying-data.html">CLEWS-25726</a></dd>
            <dd><a href="../CLEWS-26758-similar_regions/querying-data.html">CLEWS-26758-similar_regions</a></dd>
            <dd><a href="../CLEWS-27163/querying-data.html">CLEWS-27163</a></dd>
            <dd><a href="../CLEWS-27625-fixtures/querying-data.html">CLEWS-27625-fixtures</a></dd>
            <dd><a href="../CLEWS-4539/querying-data.html">CLEWS-4539</a></dd>
            <dd><a href="querying-data.html">analogous_years_modifications</a></dd>
            <dd><a href="../black/querying-data.html">black</a></dd>
            <dd><a href="../brazil_soybeans_update/querying-data.html">brazil_soybeans_update</a></dd>
            <dd><a href="../development/querying-data.html">development</a></dd>
            <dd><a href="../docs-content-changes/querying-data.html">docs-content-changes</a></dd>
            <dd><a href="../docs-latest-tag/querying-data.html">docs-latest-tag</a></dd>
            <dd><a href="../eliaschneider-patch-1/querying-data.html">eliaschneider-patch-1</a></dd>
            <dd><a href="../fix-docs-links/querying-data.html">fix-docs-links</a></dd>
            <dd><a href="../get_region_id_given_lat_lon/index.html">get_region_id_given_lat_lon</a></dd>
            <dd><a href="../nemo/querying-data.html">nemo</a></dd>
            <dd><a href="../nemozen-path-1/querying-data.html">nemozen-path-1</a></dd>
            <dd><a href="../prevented_plant/index.html">prevented_plant</a></dd>
            <dd><a href="../revert-210-CLEWS-25139-py2/querying-data.html">revert-210-CLEWS-25139-py2</a></dd>
            <dd><a href="../simplify-quickstart/querying-data.html">simplify-quickstart</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>